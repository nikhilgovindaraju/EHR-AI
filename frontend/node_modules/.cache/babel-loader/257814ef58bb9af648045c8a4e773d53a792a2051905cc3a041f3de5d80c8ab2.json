{"ast":null,"code":"var _jsxFileName = \"/Users/nikhilgovindaraju/Documents/Projects/EHR-AI/frontend/src/pages/ViewLogs.js\",\n  _s = $RefreshSig$();\n// import React, { useEffect, useState } from \"react\";\n// import { useNavigate } from \"react-router-dom\";\n// import axios from \"../services/api\";\n// import \"../styles/viewlogs.css\";\n// import Layout from \"../components/Layout\";\n\n// function ViewLogs() {\n//   const navigate = useNavigate();\n//   const [logs, setLogs] = useState([]);\n//   const [patientFilter, setPatientFilter] = useState(\"\");\n//   const [error, setError] = useState(\"\");\n//   const userId = localStorage.getItem(\"user_id\");\n//   const role = localStorage.getItem(\"role\");\n\n//   useEffect(() => {\n//     if (!userId || !role) {\n//       navigate(\"/\");\n//     } else {\n//       fetchLogs();\n//     }\n//   }, [navigate]);\n\n//   const fetchLogs = async (filter = \"\") => {\n//     try {\n//       const params = { user_id: userId, role };\n//       const response = await axios.get(\"/api/audit/logs\", { params });\n//       const filtered = filter\n//         ? response.data.logs.filter(log => log.patient_id === filter)\n//         : response.data.logs;\n//       setLogs(filtered);\n//     } catch (err) {\n//       setError(\"Failed to load logs.\");\n//     }\n//   };\n\n//   const handleFilter = (e) => {\n//     e.preventDefault();\n//     fetchLogs(patientFilter.trim());\n//   };\n\n//   const handleLogout = () => {\n//     localStorage.clear();\n//     navigate(\"/\");\n//   };\n\n//   const badgeClass = (action) => {\n//     if (action === \"create\") return \"badge-create\";\n//     if (action === \"delete\") return \"badge-delete\";\n//     return \"badge-default\";\n//   };\n\n//   return (\n//     <Layout>\n//     <div className=\"viewlogs-wrapper\">\n//       <div className=\"logs-card\">\n//       <div className=\"logs-header\">\n//   <button className=\"back-btn\" onClick={() => navigate(\"/dashboard\")}>\n//     <i className=\"bi bi-arrow-left\"></i> Back\n//   </button>\n//   <h2>\n//     <i className=\"bi bi-clipboard-data\"></i> Audit Logs\n//   </h2>\n//   <p className=\"subtext\">\n//     Logged in as <strong>{userId}</strong> ({role})\n//   </p>\n//   <button className=\"logout-btn\" onClick={handleLogout}>\n//     <i className=\"bi bi-box-arrow-right\"></i> Logout\n//   </button>\n// </div>\n\n//         {role === \"auditor\" && (\n//           <form onSubmit={handleFilter} className=\"filter-form\">\n//             <input\n//               type=\"text\"\n//               className=\"form-control\"\n//               placeholder=\"Filter by Patient ID\"\n//               value={patientFilter}\n//               onChange={(e) => setPatientFilter(e.target.value)}\n//             />\n//             <button type=\"submit\" className=\"btn btn-primary\">\n//               <i className=\"bi bi-search\"></i> Filter\n//             </button>\n//             <button\n//               type=\"button\"\n//               className=\"btn btn-secondary\"\n//               onClick={() => {\n//                 setPatientFilter(\"\");\n//                 fetchLogs();\n//               }}\n//             >\n//               <i className=\"bi bi-x-circle\"></i> Clear\n//             </button>\n//           </form>\n//         )}\n\n//         {logs.length > 0 ? (\n//           <div className=\"logs-table-wrapper\">\n//             <p className=\"record-count\">沒 {logs.length} records found</p>\n//             <table className=\"logs-table\">\n//               <thead>\n//                 <tr>\n//                   <th>Timestamp</th>\n//                   <th>User ID</th>\n//                   <th>Patient ID</th>\n//                   <th>Patient Name</th>\n//                   <th>Age</th>\n//                   <th>Diagnosis</th>\n//                   <th>Medication</th>\n//                   <th>Notes</th>\n//                   <th>Action</th>\n//                 </tr>\n//               </thead>\n//               <tbody>\n//                 {logs.map((log, idx) => (\n//                   <tr key={idx}>\n//                     <td>{new Date(log.timestamp).toLocaleString()}</td>\n//                     <td>{log.user_id}</td>\n//                     <td>{log.patient_id}</td>\n//                     <td>{log.patient_name || \"窶能"}</td>\n//                     <td>{log.age || \"窶能"}</td>\n//                     <td>{log.diagnosis || \"窶能"}</td>\n//                     <td>{log.medication || \"窶能"}</td>\n//                     <td>{log.data || \"窶能"}</td>\n//                     <td>\n//                       <span className={`action-badge ${badgeClass(log.action)}`}>\n//                         {log.action}\n//                       </span>\n//                     </td>\n//                   </tr>\n//                 ))}\n//               </tbody>\n//             </table>\n//           </div>\n//         ) : (\n//           <p className=\"text-muted mt-4\">No logs available.</p>\n//         )}\n\n//         {error && <div className=\"text-danger text-center mt-3\">{error}</div>}\n//       </div>\n//     </div>\n//     </Layout>\n//   );\n// }\n\n// export default ViewLogs;\n\n// frontend/src/pages/ViewLogs.js\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"../services/api\";\nimport \"../styles/viewlogs.css\";\nimport Layout from \"../components/Layout\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ViewLogs() {\n  _s();\n  const navigate = useNavigate();\n  const [logs, setLogs] = useState([]);\n  const [patientFilter, setPatientFilter] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  // pulled from your login/localStorage\n  const userId = localStorage.getItem(\"user_id\"); // e.g., \"nikhil\" or \"meghs\"\n  const role = localStorage.getItem(\"role\"); // \"doctor\" | \"patient\" | \"auditor\"\n  const storedPatientId = localStorage.getItem(\"patient_id\"); // if you store it for patients\n\n  useEffect(() => {\n    if (!userId || !role) {\n      navigate(\"/\");\n    } else {\n      fetchLogs();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const buildParams = (filter = \"\") => {\n    // Base role param\n    const params = {\n      role\n    };\n    if (role === \"doctor\") {\n      // show logs created by this doctor\n      params.user_id = userId;\n      // Optional filter by patient_id\n      if (filter) params.patient_id = filter.trim();\n    } else if (role === \"patient\") {\n      // Prefer an explicit patient_id if stored; otherwise use patient_name (username)\n      if ((storedPatientId || \"\").trim()) {\n        params.patient_id = (storedPatientId || \"\").trim();\n      } else {\n        params.patient_name = userId; // fallback to name (e.g., \"meghs\")\n      }\n      // If patient adds a filter manually, override with that ID\n      if (filter) {\n        params.patient_id = filter.trim();\n        delete params.patient_name;\n      }\n    } else if (role === \"auditor\") {\n      // auditors see everything; filter if provided\n      if (filter) params.patient_id = filter.trim();\n    }\n    return params;\n  };\n  const fetchLogs = async (filter = \"\") => {\n    setLoading(true);\n    setError(\"\");\n    try {\n      var _response$data;\n      const params = buildParams(filter);\n      const response = await axios.get(\"/api/audit/logs\", {\n        params\n      });\n      // backend returns { logs: [...] }\n      const rows = Array.isArray(response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.logs) ? response.data.logs : [];\n      setLogs(rows);\n    } catch (err) {\n      console.error(err);\n      setError(\"Failed to load logs.\");\n      setLogs([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleFilter = e => {\n    e.preventDefault();\n    fetchLogs(patientFilter.trim());\n  };\n  const handleClear = () => {\n    setPatientFilter(\"\");\n    fetchLogs(\"\");\n  };\n  const handleLogout = () => {\n    localStorage.clear();\n    navigate(\"/\");\n  };\n  const badgeClass = action => {\n    const a = (action || \"\").toLowerCase();\n    if (a === \"create\") return \"badge-create\";\n    if (a === \"delete\") return \"badge-delete\";\n    if (a === \"modify\") return \"badge-modify\";\n    return \"badge-default\";\n  };\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"viewlogs-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logs-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logs-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"back-btn\",\n            onClick: () => navigate(\"/dashboard\"),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-arrow-left\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this), \" Back\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-clipboard-data\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 15\n            }, this), \" Audit Logs\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"subtext\",\n            children: [\"Logged in as \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: userId\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 28\n            }, this), \" (\", role, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"logout-btn\",\n            onClick: handleLogout,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-box-arrow-right\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this), \" Logout\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleFilter,\n          className: \"filter-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"Filter by Patient ID\",\n            value: patientFilter,\n            onChange: e => setPatientFilter(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 15\n            }, this), \" Filter\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-secondary\",\n            onClick: handleClear,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-x-circle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 15\n            }, this), \" Clear\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-muted mt-4\",\n          children: \"Loading\\u2026\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 13\n        }, this) : logs.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logs-table-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"record-count\",\n            children: [\"\\uD83D\\uDCC4 \", logs.length, \" records found\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"logs-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Timestamp\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"User ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Patient ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Patient Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Age\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Diagnosis\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Medication\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Notes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Action\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: logs.map((log, idx) => {\n                var _log$id, _log$age, _log$notes;\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: log.timestamp ? new Date(log.timestamp).toLocaleString() : \"窶能"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 305,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: log.user_id || \"窶能"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: log.patient_id || \"窶能"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: log.patient_name || \"窶能"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: (_log$age = log.age) !== null && _log$age !== void 0 ? _log$age : \"窶能"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 309,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: log.diagnosis || \"窶能"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 310,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: log.medication || \"窶能"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: ((_log$notes = log.notes) !== null && _log$notes !== void 0 ? _log$notes : \"\").toString().trim() || \"窶能"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 313,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `action-badge ${badgeClass(log.action)}`,\n                      children: log.action || \"窶能"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 315,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 314,\n                    columnNumber: 23\n                  }, this)]\n                }, (_log$id = log.id) !== null && _log$id !== void 0 ? _log$id : idx, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-muted mt-4\",\n          children: \"No logs available.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 13\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-danger text-center mt-3\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 248,\n    columnNumber: 5\n  }, this);\n}\n_s(ViewLogs, \"TWKeWA4rZxsYqNFA+7I6ADek1Ns=\", false, function () {\n  return [useNavigate];\n});\n_c = ViewLogs;\nexport default ViewLogs;\nvar _c;\n$RefreshReg$(_c, \"ViewLogs\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","axios","Layout","jsxDEV","_jsxDEV","ViewLogs","_s","navigate","logs","setLogs","patientFilter","setPatientFilter","error","setError","loading","setLoading","userId","localStorage","getItem","role","storedPatientId","fetchLogs","buildParams","filter","params","user_id","patient_id","trim","patient_name","_response$data","response","get","rows","Array","isArray","data","err","console","handleFilter","e","preventDefault","handleClear","handleLogout","clear","badgeClass","action","a","toLowerCase","children","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","length","map","log","idx","_log$id","_log$age","_log$notes","timestamp","Date","toLocaleString","age","diagnosis","medication","notes","toString","id","_c","$RefreshReg$"],"sources":["/Users/nikhilgovindaraju/Documents/Projects/EHR-AI/frontend/src/pages/ViewLogs.js"],"sourcesContent":["// import React, { useEffect, useState } from \"react\";\n// import { useNavigate } from \"react-router-dom\";\n// import axios from \"../services/api\";\n// import \"../styles/viewlogs.css\";\n// import Layout from \"../components/Layout\";\n\n// function ViewLogs() {\n//   const navigate = useNavigate();\n//   const [logs, setLogs] = useState([]);\n//   const [patientFilter, setPatientFilter] = useState(\"\");\n//   const [error, setError] = useState(\"\");\n//   const userId = localStorage.getItem(\"user_id\");\n//   const role = localStorage.getItem(\"role\");\n\n//   useEffect(() => {\n//     if (!userId || !role) {\n//       navigate(\"/\");\n//     } else {\n//       fetchLogs();\n//     }\n//   }, [navigate]);\n\n//   const fetchLogs = async (filter = \"\") => {\n//     try {\n//       const params = { user_id: userId, role };\n//       const response = await axios.get(\"/api/audit/logs\", { params });\n//       const filtered = filter\n//         ? response.data.logs.filter(log => log.patient_id === filter)\n//         : response.data.logs;\n//       setLogs(filtered);\n//     } catch (err) {\n//       setError(\"Failed to load logs.\");\n//     }\n//   };\n\n//   const handleFilter = (e) => {\n//     e.preventDefault();\n//     fetchLogs(patientFilter.trim());\n//   };\n\n//   const handleLogout = () => {\n//     localStorage.clear();\n//     navigate(\"/\");\n//   };\n\n//   const badgeClass = (action) => {\n//     if (action === \"create\") return \"badge-create\";\n//     if (action === \"delete\") return \"badge-delete\";\n//     return \"badge-default\";\n//   };\n\n//   return (\n//     <Layout>\n//     <div className=\"viewlogs-wrapper\">\n//       <div className=\"logs-card\">\n//       <div className=\"logs-header\">\n//   <button className=\"back-btn\" onClick={() => navigate(\"/dashboard\")}>\n//     <i className=\"bi bi-arrow-left\"></i> Back\n//   </button>\n//   <h2>\n//     <i className=\"bi bi-clipboard-data\"></i> Audit Logs\n//   </h2>\n//   <p className=\"subtext\">\n//     Logged in as <strong>{userId}</strong> ({role})\n//   </p>\n//   <button className=\"logout-btn\" onClick={handleLogout}>\n//     <i className=\"bi bi-box-arrow-right\"></i> Logout\n//   </button>\n// </div>\n\n\n//         {role === \"auditor\" && (\n//           <form onSubmit={handleFilter} className=\"filter-form\">\n//             <input\n//               type=\"text\"\n//               className=\"form-control\"\n//               placeholder=\"Filter by Patient ID\"\n//               value={patientFilter}\n//               onChange={(e) => setPatientFilter(e.target.value)}\n//             />\n//             <button type=\"submit\" className=\"btn btn-primary\">\n//               <i className=\"bi bi-search\"></i> Filter\n//             </button>\n//             <button\n//               type=\"button\"\n//               className=\"btn btn-secondary\"\n//               onClick={() => {\n//                 setPatientFilter(\"\");\n//                 fetchLogs();\n//               }}\n//             >\n//               <i className=\"bi bi-x-circle\"></i> Clear\n//             </button>\n//           </form>\n//         )}\n\n//         {logs.length > 0 ? (\n//           <div className=\"logs-table-wrapper\">\n//             <p className=\"record-count\">沒 {logs.length} records found</p>\n//             <table className=\"logs-table\">\n//               <thead>\n//                 <tr>\n//                   <th>Timestamp</th>\n//                   <th>User ID</th>\n//                   <th>Patient ID</th>\n//                   <th>Patient Name</th>\n//                   <th>Age</th>\n//                   <th>Diagnosis</th>\n//                   <th>Medication</th>\n//                   <th>Notes</th>\n//                   <th>Action</th>\n//                 </tr>\n//               </thead>\n//               <tbody>\n//                 {logs.map((log, idx) => (\n//                   <tr key={idx}>\n//                     <td>{new Date(log.timestamp).toLocaleString()}</td>\n//                     <td>{log.user_id}</td>\n//                     <td>{log.patient_id}</td>\n//                     <td>{log.patient_name || \"窶能"}</td>\n//                     <td>{log.age || \"窶能"}</td>\n//                     <td>{log.diagnosis || \"窶能"}</td>\n//                     <td>{log.medication || \"窶能"}</td>\n//                     <td>{log.data || \"窶能"}</td>\n//                     <td>\n//                       <span className={`action-badge ${badgeClass(log.action)}`}>\n//                         {log.action}\n//                       </span>\n//                     </td>\n//                   </tr>\n//                 ))}\n//               </tbody>\n//             </table>\n//           </div>\n//         ) : (\n//           <p className=\"text-muted mt-4\">No logs available.</p>\n//         )}\n\n//         {error && <div className=\"text-danger text-center mt-3\">{error}</div>}\n//       </div>\n//     </div>\n//     </Layout>\n//   );\n// }\n\n// export default ViewLogs;\n\n// frontend/src/pages/ViewLogs.js\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"../services/api\";\nimport \"../styles/viewlogs.css\";\nimport Layout from \"../components/Layout\";\n\nfunction ViewLogs() {\n  const navigate = useNavigate();\n\n  const [logs, setLogs] = useState([]);\n  const [patientFilter, setPatientFilter] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  // pulled from your login/localStorage\n  const userId = localStorage.getItem(\"user_id\");     // e.g., \"nikhil\" or \"meghs\"\n  const role = localStorage.getItem(\"role\");          // \"doctor\" | \"patient\" | \"auditor\"\n  const storedPatientId = localStorage.getItem(\"patient_id\"); // if you store it for patients\n\n  useEffect(() => {\n    if (!userId || !role) {\n      navigate(\"/\");\n    } else {\n      fetchLogs();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const buildParams = (filter = \"\") => {\n    // Base role param\n    const params = { role };\n\n    if (role === \"doctor\") {\n      // show logs created by this doctor\n      params.user_id = userId;\n      // Optional filter by patient_id\n      if (filter) params.patient_id = filter.trim();\n    } else if (role === \"patient\") {\n      // Prefer an explicit patient_id if stored; otherwise use patient_name (username)\n      if ((storedPatientId || \"\").trim()) {\n        params.patient_id = (storedPatientId || \"\").trim();\n      } else {\n        params.patient_name = userId; // fallback to name (e.g., \"meghs\")\n      }\n      // If patient adds a filter manually, override with that ID\n      if (filter) {\n        params.patient_id = filter.trim();\n        delete params.patient_name;\n      }\n    } else if (role === \"auditor\") {\n      // auditors see everything; filter if provided\n      if (filter) params.patient_id = filter.trim();\n    }\n\n    return params;\n  };\n\n  const fetchLogs = async (filter = \"\") => {\n    setLoading(true);\n    setError(\"\");\n    try {\n      const params = buildParams(filter);\n      const response = await axios.get(\"/api/audit/logs\", { params });\n      // backend returns { logs: [...] }\n      const rows = Array.isArray(response?.data?.logs) ? response.data.logs : [];\n      setLogs(rows);\n    } catch (err) {\n      console.error(err);\n      setError(\"Failed to load logs.\");\n      setLogs([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleFilter = (e) => {\n    e.preventDefault();\n    fetchLogs(patientFilter.trim());\n  };\n\n  const handleClear = () => {\n    setPatientFilter(\"\");\n    fetchLogs(\"\");\n  };\n\n  const handleLogout = () => {\n    localStorage.clear();\n    navigate(\"/\");\n  };\n\n  const badgeClass = (action) => {\n    const a = (action || \"\").toLowerCase();\n    if (a === \"create\") return \"badge-create\";\n    if (a === \"delete\") return \"badge-delete\";\n    if (a === \"modify\") return \"badge-modify\";\n    return \"badge-default\";\n  };\n\n  return (\n    <Layout>\n      <div className=\"viewlogs-wrapper\">\n        <div className=\"logs-card\">\n          <div className=\"logs-header\">\n            <button className=\"back-btn\" onClick={() => navigate(\"/dashboard\")}>\n              <i className=\"bi bi-arrow-left\"></i> Back\n            </button>\n            <h2>\n              <i className=\"bi bi-clipboard-data\"></i> Audit Logs\n            </h2>\n            <p className=\"subtext\">\n              Logged in as <strong>{userId}</strong> ({role})\n            </p>\n            <button className=\"logout-btn\" onClick={handleLogout}>\n              <i className=\"bi bi-box-arrow-right\"></i> Logout\n            </button>\n          </div>\n\n          {/* Simple filter by Patient ID for all roles (optional but handy) */}\n          <form onSubmit={handleFilter} className=\"filter-form\">\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              placeholder=\"Filter by Patient ID\"\n              value={patientFilter}\n              onChange={(e) => setPatientFilter(e.target.value)}\n            />\n            <button type=\"submit\" className=\"btn btn-primary\">\n              <i className=\"bi bi-search\"></i> Filter\n            </button>\n            <button type=\"button\" className=\"btn btn-secondary\" onClick={handleClear}>\n              <i className=\"bi bi-x-circle\"></i> Clear\n            </button>\n          </form>\n\n          {loading ? (\n            <p className=\"text-muted mt-4\">Loading窶ｦ</p>\n          ) : logs.length > 0 ? (\n            <div className=\"logs-table-wrapper\">\n              <p className=\"record-count\">沒 {logs.length} records found</p>\n              <table className=\"logs-table\">\n                <thead>\n                  <tr>\n                    <th>Timestamp</th>\n                    <th>User ID</th>\n                    <th>Patient ID</th>\n                    <th>Patient Name</th>\n                    <th>Age</th>\n                    <th>Diagnosis</th>\n                    <th>Medication</th>\n                    <th>Notes</th>\n                    <th>Action</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {logs.map((log, idx) => (\n                    <tr key={log.id ?? idx}>\n                      <td>{log.timestamp ? new Date(log.timestamp).toLocaleString() : \"窶能"}</td>\n                      <td>{log.user_id || \"窶能"}</td>\n                      <td>{log.patient_id || \"窶能"}</td>\n                      <td>{log.patient_name || \"窶能"}</td>\n                      <td>{log.age ?? \"窶能"}</td>\n                      <td>{log.diagnosis || \"窶能"}</td>\n                      <td>{log.medication || \"窶能"}</td>\n                      {/* IMPORTANT: read the correct field */}\n                      <td>{(log.notes ?? \"\").toString().trim() || \"窶能"}</td>\n                      <td>\n                        <span className={`action-badge ${badgeClass(log.action)}`}>\n                          {log.action || \"窶能"}\n                        </span>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          ) : (\n            <p className=\"text-muted mt-4\">No logs available.</p>\n          )}\n\n          {error && <div className=\"text-danger text-center mt-3\">{error}</div>}\n        </div>\n      </div>\n    </Layout>\n  );\n}\n\nexport default ViewLogs;\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,iBAAiB;AACnC,OAAO,wBAAwB;AAC/B,OAAOC,MAAM,MAAM,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1C,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EAClB,MAAMC,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAE9B,MAAM,CAACQ,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACW,aAAa,EAAEC,gBAAgB,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACa,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACe,OAAO,EAAEC,UAAU,CAAC,GAAGhB,QAAQ,CAAC,KAAK,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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}